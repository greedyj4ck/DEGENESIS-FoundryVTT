<form class="{{cssClass}}" autocomplete="off">
    {{> systems/degenesis/templates/item/item-header-physical.html}}
    <!-- Tabs V2-->
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="description">{{localize "DGNS.Description"}}</a>
        <a class="item active" data-tab="details">{{localize "DGNS.Details"}}</a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">
        <div class="tab" data-tab="description">
            <div class="body-column body-line">
                <div class="square little left"></div>
                <svg class="title-line middle-left" height="11" width="100%">
                    <line x1="0" y1="11" x2="100%" y2="11" style="stroke:black;stroke-width:1"></line>
                </svg>
                <div class="middle-name">{{localize "DGNS.Description"}}</div>
                <svg class="title-line middle-right" height="11" width="100%">
                    <line x1="0" y1="11" x2="100%" y2="11" style="stroke:black;stroke-width:1"></line>
                </svg>
                <div class="square little right"></div>
            </div>
            {{editor enrichment.system.description.value target="system.description" engine="prosemirror" button=true
            owner=owner editable=editable}}
            {{{drawPageSquare 0 2}}}
        </div>
        <!-- DETAILS TAB-->
        <div class="tab" data-tab="details">
            <div class="body-column body-line">
                <div class="square little left"></div>
                <svg class="title-line middle-left" height="11" width="100%">
                    <line x1="0" y1="11" x2="100%" y2="11" style="stroke:black;stroke-width:1"></line>
                </svg>
                <div class="middle-name">{{localize "DGNS.Details"}}</div>
                <svg class="title-line middle-right" height="11" width="100%">
                    <line x1="0" y1="11" x2="100%" y2="11" style="stroke:black;stroke-width:1"></line>
                </svg>
                <div class="square little right"></div>
            </div>
            <div class="detail-container">
                <div class="column">
                    <div class="sheet-field">
                        <span class="field-name">{{localize "DGNS.Defense"}}: </span>
                        <div class="field-inputs">
                            <input class="handling field-input field-start" type="text" name="data.defense.D"
                                value="{{data.defense.D}}" data-dtype="Number"
                                placeholder="{{localize 'DGNS.Defense'}}" /><span class="field-end">D</span>
                            <span class="field-end"></span>+<input class="handling field-input field-start" type="text"
                                name="data.defense.p_defense" value="{{data.defense.p_defense}}"
                                placeholder="{{localize 'DGNS.PassiveDef'}}" data-dtype="Number" />
                        </div>
                    </div>
                    <div class="sheet-field">
                        <span class="field-name">{{localize "DGNS.Attack"}}: </span>
                        <div class="field-inputs">
                            <input class="handling field-input field-start" type="text" name="data.attack.D"
                                value="{{data.attack.D}}" data-dtype="Number"
                                placeholder="{{localize 'DGNS.Modifier'}}" /><span class="field-end">D</span>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="sheet-field">
                        <span class="field-name">{{localize "DGNS.Slots"}}: </span>
                        <div class="field-inputs">
                            <input input class="field-input" type="text" name="data.slots.total"
                                value="{{data.slots.total}}" data-dtype="Number" />
                        </div>
                    </div>
                    <div class="sheet-field">
                        <span class="field-name">{{localize "DGNS.Cult"}}: </span>
                        <div class="field-inputs">
                            <input class="field-input" type="text" name="data.cult" value="{{data.cult}}" />
                        </div>
                    </div>
                    <div class="sheet-field">
                        <span class="field-name">{{localize "DGNS.Resources"}}:</span>
                        <div class="field-inputs">
                            <input class="field-input" type="text" name="data.resources" value="{{data.resources}}"
                                data-dtype="Number" />
                        </div>
                    </div>
                </div>

            </div>

            <!-- Qualities and mods -->
            <div class="bottom-conditions spaced-conditions">
                <!-- Qualities -->
                <div class="qualities-group conditions-group">
                    <div class="black-title">
                        <h3>{{localize "DGNS.Qualities"}}</h3>
                        <a class="right icon wheel item-quality-config"><i class="fas fa-cog"></i></a>
                    </div>
                    <div class="qualities-data conditions-data">
                        <ol class="qualities-ol conditions-ol">
                            {{#each qualities as |quality q|}}
                            <li class="conditions-li qualities-li item">
                                <div class="conditions-characteristics">
                                    <div class='quality'>
                                        {{quality}}
                                    </div>
                                </div>
                            </li>
                            {{/each}}
                        </ol>
                    </div>
                </div>
                <!-- Mods -->
                <div class="mods-group conditions-group">
                    <div class="black-title">
                        <h3>{{localize "DGNS.Mods"}}</h3>
                        <div class="right" data-item="">
                            <div class="slots">{{data.slots.used}}/{{data.slots.total}} </div>
                            <a class="icon item-add" data-item="complication">+</a>
                        </div>
                    </div>
                    <div class="mods-data conditions-data">
                        <ol class="mods-ol conditions-ol">
                            {{#each mods as |mod m|}}
                            <li class="mods-li conditions-li item" data-item-id="{{mod.id}}">
                                <div class="conditions-characteristics">
                                    {{#if ../isGM}}
                                    <div class='item-data'>
                                        <a class="mods-name conditions-name dropdown">{{mod.name}}</a>
                                        <a class="mods-rating conditions-number dropdown">{{mod.data.cost}}T</a>
                                        /
                                        <a class="mods-rating conditions-number dropdown">{{mod.data.rating}}</a>
                                        <div class="vertical-bar">
                                            <svg height="15px" width="1px">
                                                <line x1="0%" y1="0%" x2="0%" y2="14px"
                                                    style="stroke:black;stroke-width:1"></line>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="item-controls">
                                        <a class="icon item-post"><i class="fas fa-comment"></i></a>
                                        <a class="icon item-edit"><i class="fas fa-edit"></i></a>
                                        <a class="icon item-delete"><i class="fas fa-times"></i></a>
                                    </div>
                                    {{else}}
                                    <div class='item-data'>
                                        <span class="mods-name conditions-name">{{mod.name}}</span>
                                    </div>
                                    {{/if}}
                                </div>
                            </li>
                            {{/each}}
                        </ol>
                    </div>
                </div>
            </div>

            {{#if item.hasSpecialty}}
            {{localize "DGNS.Specialty"}}
            <textarea name="flags.degenesis.specialty">{{item.flags.degenesis.specialty}}</textarea>
            {{/if}}
            {{{drawPageSquare 1 2}}}
        </div>


        <div class="tab" data-tab="qualities">
            {{#each qualities as |quality q|}}
            <div class="item-quality">
                {{#if quality.checked}}
                <a class="square border-black button-position checkbox" data-target="quality" data-quality="{{q}}">
                    <div class="square-into black"></div>
                </a>
                {{else}}
                <a class="square button-position checkbox" data-target="quality" data-quality="{{q}}">
                    <div class="square-into"></div>
                </a>
                {{/if}}
                <div class="field-name quality-name">
                    {{quality.name}}
                </div>
                <div class="field-inputs quality-inputs" data-quality="{{q}}">
                    {{#each quality.values as |value i| }}
                    <input class="field-input quality-value" data-value-key="{{value.key}}"
                        placeholder="{{value.placeholder}}" value="{{value.value}}" type="text">
                    {{/each}}
                </div>
            </div>
            {{/each}}
        </div>
        <div class="tab" data-tab="mods">
            <div>Slots Used: {{data.slots.used}}/{{data.slots.total}}</div>
            {{#each item.flags.degenesis.mods as |mod m|}}
            <span><b>{{mod.name}}</b>: {{{mod.enrichment.system.description.value}}}</span>
            <div>{{mod.data.effect}}</div>
            {{/each}}
        </div>
    </section>
    {{> systems/degenesis/templates/common/sheet-footer.html }}
</form>